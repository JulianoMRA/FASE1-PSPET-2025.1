<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Inicial</title>
</head>
<body>
    <h1>Bem-vindo à Interface OCI</h1>
    <form action="{% url 'logout' %}" method="post" style="display:inline;">
        {% csrf_token %}
        <button type="submit">Sair</button>
    </form><br>
    <h1>Dashboard Principal</h1>

    <hr>

    <h2>Escolas</h2>
    <h3><a href="{% url 'cadastrar_escola' %}">Cadastrar Escola</a></h3>
    <table border="1">
        <tr>
            <th>Código</th>
            <th>Nome</th>
            <th>Ações</th>
        </tr>
        {% for escola in escolas %}
        <tr>
            <td>{{ escola.codigo }}</td>
            <td>{{ escola.nome }}</td>
            <td>
                <a href="{% url 'editar_escola' escola.id %}">Editar</a>
                <a href="{% url 'excluir_escola' escola.id %}" onclick="return confirm('Tem certeza que deseja excluir esta escola?');">Excluir</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3">Nenhuma escola cadastrada.</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Participantes</h2>
    <h3><a href="{% url 'cadastrar_participante' %}">Cadastrar Participante</a></h3>
    <table border="1">
        <tr>
            <th>Código</th>
            <th>Nome</th>
            <th>Escola</th>
            <th>Ações</th>
        </tr>
        {% for participante in participantes %}
        <tr>
            <td>{{ participante.codigo }}</td>
            <td>{{ participante.nome }}</td>
            <td>{{ participante.escola.nome }}</td>
            <td>
                <a href="{% url 'editar_participante' participante.id %}">Editar</a>
                <a href="{% url 'excluir_participante' participante.id %}" onclick="return confirm('Tem certeza que deseja excluir este participante?');">Excluir</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">Nenhum participante cadastrado.</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Provas</h2>
    <h3><a href="{% url 'cadastrar_prova' %}">Cadastrar Prova</a></h3>
    <table border="1">
        <tr>
            <th>Código</th>
            <th>Ano</th>
            <th>Nível</th>
            <th>Fase</th>
            <th>Ações</th>
        </tr>
        {% for prova in provas %}
        <tr>
            <td>{{ prova.codigo }}</td>
            <td>{{ prova.ano }}</td>
            <td>{{ prova.nivel }}</td>
            <td>{{ prova.fase }}</td>
            <td>
                <a href="{% url 'editar_prova' prova.id %}">Editar</a>
                <a href="{% url 'excluir_prova' prova.id %}" onclick="return confirm('Tem certeza que deseja excluir esta prova?');">Excluir</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5">Nenhuma prova cadastrada.</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Gabaritos Lidos</h2>
    <h3><a href="{% url 'ler_gabarito' %}">Ler Gabarito</a></h3>
    <table border="1">
        <tr>
            <th>Código</th>
            <th>Participante</th>
            <th>Escola</th>
            <th>Prova</th>
            <th>Ano</th>
            <th>Nível</th>
            <th>Fase</th>
            <th>Nota</th>
            <th>Ações</th>
        </tr>
        {% for gabarito in gabaritos %}
        <tr>
            <td>{{ gabarito.codigo }}</td>
            <td>{{ gabarito.participante.nome }}</td>
            <td>{{ gabarito.participante.escola.nome }}</td>
            <td>{{ gabarito.prova.codigo }}</td>
            <td>{{ gabarito.prova.ano }}</td>
            <td>{{ gabarito.prova.nivel }}</td>
            <td>{{ gabarito.prova.fase }}</td>
            <td>{{ gabarito.nota }}</td>
            <td>
                <a href="{% url 'editar_gabarito_lido' gabarito.id %}">Editar</a>
                <a href="{% url 'excluir_gabarito_lido' gabarito.id %}" onclick="return confirm('Tem certeza que deseja excluir este gabarito lido?');">Excluir</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">Nenhum gabarito lido encontrado.</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
